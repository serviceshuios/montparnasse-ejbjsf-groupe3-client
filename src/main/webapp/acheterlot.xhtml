<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta charset="UTF-8" />
	<title>Achat d'un lotissement</title>
	<h:outputStylesheet library="css" name="style.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />
</h:head>
<body>
	
<div class="bar">
		<nav class="container">
			<a href="/ConfigClientJSFEjb-Grp3">Accueil</a> 
			<a href="/ConfigClientJSFEjb-Grp3/personne.xhtml">Ajouter Personne</a>
			<a href="/ConfigClientJSFEjb-Grp3/lotissement.xhtml">Ajouter Lotissement</a> 
			<a href="/ConfigClientJSFEjb-Grp3/acheterlot.xhtml">Acheter un lot</a> 
			<a href="/ConfigClientJSFEjb-Grp3/semarier.xhtml">Se marier</a>
		</nav>
	</div>
	
<div>
	<h:form>
		<h2>Qui êtes-vous ?</h2>
		<h:outputLabel value="Personne" />
            <h:selectOneMenu value="#{lotissementBean.personne.idPersonne}">
                <f:selectItem itemValue="0" itemLabel="Attribuez une personne"/>
                <f:selectItems value="#{personneBean.findAllPersonne()}" var="p" itemValue="#{p.idPersonne}" itemLabel="#{p.nom},#{p.prenom},#{p.age}"/>
            </h:selectOneMenu><br/>
            <h2>Choisissez votre lotissement de rêve</h2>
            <h:outputLabel value="Lotissement" />
            <h:selectOneMenu value="#{lotissementBean.lotissement.idLot}">
                <f:selectItem itemValue="0" itemLabel="Choisissez un lotissement"/>
                <f:selectItems value="#{lotissementBean.findAllLotissement()}" var="l" itemValue="#{l.idLot}" itemLabel="#{l.numLot},#{l.adresseLot},#{l.dateCreation},#{l.prix}"/>
            </h:selectOneMenu><br/>
			
			<table>
			<h:commandButton action="#{lotissementBean.acheterLotissement}" value="Acheter" />
			</table>
			
			<table>
			<h2>Liste des lotissements</h2>
		<h:dataTable  value="#{lotissementBean.findAllLotissement()}" var="l" border="1" class="table table-striped">
		
		<h:column>
			<f:facet name="header">ID</f:facet>
			<h:outputText value="#{l.idLot}"/>
		</h:column>
		<h:column>
			<f:facet name="header">NUM LOT</f:facet>
			<h:outputText value="#{l.numLot}"/>
		</h:column>
		<h:column>
			<f:facet name="header">ADRESSE LOT</f:facet>
			<h:outputText value="#{l.adresseLot}"/>
		</h:column>
		<h:column>
			<f:facet name="header">DATE DE CREATION</f:facet>
			<h:outputText value="#{l.dateCreation}"/>
		</h:column>
		<h:column>
			<f:facet name="header">PRIX</f:facet>
			<h:outputText value="#{l.prix}"/>
		</h:column>
		<h:column>
			<f:facet name="header">PROPRIETAIRE</f:facet>
			<h:outputText value="#{l.personne.nom}"/>
		</h:column>
		</h:dataTable>
		</table>
	</h:form>
</div>
</body>
</html>