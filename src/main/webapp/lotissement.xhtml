<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
	
	<f:view>
<h:head>
	<meta charset="UTF-8" />
	<title>Insert title here</title>
	<h:outputStylesheet library="css" name="style.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />
</h:head>
<div class="container">
	<h1>Ajout d'un Lotissement</h1>
	<h:form>
		<h:panelGrid columns="1" cellpadding="5">
		
			<input type="hidden" name="idLot" value="${idLot}" />
			
			
			<h:outputLabel value="Numero du Lotissement" />
			<h:inputText id="numLot" value="#{lotissementBean.lotissement.numLot}" />
			
			<h:outputLabel value="Adresse" />
			<h:inputText id="adresseLot" value="#{lotissementBean.lotissement.adresseLot}" />
			
			<h:outputLabel value="Date de creation" />
			<h:inputText id="dateCreation" value="#{lotissementBean.lotissement.dateCreation}" />
			
			<h:outputLabel value="Prix" />
			<h:inputText id="prix" value="#{lotissementBean.lotissement.prix}" />
			
		
		</h:panelGrid>
		
		<h:commandButton action="#{lotissementBean.ajouterLotissement}" value="ajouter" />
		
		<div>
		
		<h2>Liste des lotissements</h2>
		<h:dataTable  value="#{lotissementBean.findAllLotissement()}" var="l" border="1" class="table table-striped">
		<h:column>
			<f:facet name="header">ID</f:facet>
			<h:outputText value="#{l.idLot}"/>
		</h:column>
		<h:column>
			<f:facet name="header">NUM LOT</f:facet>
			<h:outputText value="#{l.numLot}"/>
		</h:column>
		<h:column>
			<f:facet name="header">ADRESSE LOT</f:facet>
			<h:outputText value="#{l.adresseLot}"/>
		</h:column>
		<h:column>
			<f:facet name="header">DATE DE CREATION</f:facet>
			<h:outputText value="#{l.dateCreation}"/>
		</h:column>
		<h:column>
			<f:facet name="header">PRIX</f:facet>
			<h:outputText value="#{l.prix}"/>
		</h:column>
		
		<h:column>
			<f:facet name="header">Supprimer</f:facet>
			<h:commandLink action="#{lotissementBean.supprimerLotissement(l.idLot)}" value="Supprimer">
			<f:setPropertyActionListener value="#{l.idLot}" target="#{lotissementBean.lotissement.idLot}"></f:setPropertyActionListener>
			</h:commandLink>
		</h:column>
		<h:column>
			<f:facet name="header">Modifier</f:facet>
			<h:commandLink action="#{lotissementBean.modifierLotissement(l.idLot)}" value="Modifier">
			<f:setPropertyActionListener target="#{lotissementBean.lotissement}" value="#{l}"></f:setPropertyActionListener>
			</h:commandLink>
		</h:column>
		</h:dataTable>
		</div>	
</h:form>
</div>

	</f:view>
	
</html>